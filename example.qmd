---
title: "Example"
date: 09-16-2025
date-modified: last-modified
format:
  html: default
  pdf: default
---

# Background

This page provides a simple example that visualizes the results of a GitHub Actions workflow with a simple set of steps using MATLAB code:

1.  Access most recent day of ROMS sea surface temperature (SST) data via OpenDAP server
2.  Calculate the mean value of sea surface temperature for a given region
3.  Append this mean value to the end of a CSV file and push to the GitHub repo

Below is a table showing these results, as well as a simple plot showing these values over time. Although the code used to access and summarize these data in the GitHub Actions workflow was written in MATLAB, the code to visualize these results from the CSV file are written in R for this Quarto website.

# Output

```{r}
#| label: read-roms-data

library(tidyverse)

# Read in data from GH
dat <- read_csv("https://raw.githubusercontent.com/joshcullen/github_actions_workshop/refs/heads/main/MATLAB_example/sst_test.csv")

# Remove any duplicates
dat2 <- dat |> 
  distinct(date, .keep_all = TRUE) |> 
  mutate(sst = round(sst, 2),  #round SST vals
         date = as_date(date, format = "%d-%B-%Y")
  )

```

::: {.content-hidden when-format="pdf"}
```{r}
#| label: tbl-sst-html
#| tbl-cap: "Daily mean SST values for small region in Southern California Bight. Data acquired from ROMS."

library(DT)

datatable(dat2, rownames = FALSE, width = "400px")

```
:::

::: {.content-hidden when-format="html"}
```{r}
#| label: tbl-sst-pdf
#| tbl-cap: "Daily mean SST values for small region in Southern California Bight. Data acquired from ROMS."

library(knitr)

kable(dat2, row.names = FALSE)

```
:::

<br><br>

```{r}
#| label: fig-sst
#| fig-cap: "Time series of daily mean SST for region within Southern California Bight. Data acquired from ROMS."

ggplot(dat2, aes(date, sst)) +
  geom_line(linewidth = 1) +
  geom_point(size = 5) +
  labs(x = "Date",
       y = "SST (Â°C)") +
  theme_bw(base_size = 16)
```
